galaxy_info:
  author: ophidia-info@lists.cmcc.it
  description: Ophidia Cluster
  company: CMCC
  license: Apache
  min_ansible_version: 2.1
  platforms:
  - name: EL
    versions:
    - 7
  galaxy_tags:
  - ophidia
dependencies: 
  - { role: 'indigo-dc.slurm', slurm_type_of_node: 'front', slurm_server_ip: '{{ server_ip }}', slurm_wn_ips: '{{ slurm_nodes_ips }}', slurm_vnode_prefix: '{{ slurm_nodes_name }}', when: node_type == 'server' }
  - { role: 'indigo-dc.slurm', slurm_type_of_node: 'wn', slurm_server_ip: '{{ server_ip }}', slurm_server_name: 'oph-server', when: node_type == 'io' }
  - { role: 'indigo-dc.nfs', nfs_mode: 'server', nfs_exports: [{path: "/data", export: "{{ compute_subnet }}(fsid=0,rw,async,no_root_squash,no_subtree_check,insecure)"}], when: deploy_type == 'configure' and node_type == 'server'}
  - { role: 'indigo-dc.nfs', nfs_mode: 'client', nfs_client_imports: [{ local: "/data", remote: "/data", server_host: "{{ server_ip }}"}], when: deploy_type == 'configure' and node_type == 'io' }

